{{> breadcrumbs}}
<h1 class="title is-2">{{viewProfile.name}}</h1>

<div class="columns">
  <div class="column is-one-third">
    {{#if viewProfile.image_url}}
    <div
      class="profile-image-render"
      data-cropped-image
      data-image-src="{{viewProfile.image_url}}"
      data-crop-x="{{viewProfile.image_crop.x}}"
      data-crop-y="{{viewProfile.image_crop.y}}"
      data-crop-width="{{viewProfile.image_crop.width}}"
      data-crop-height="{{viewProfile.image_crop.height}}"
      role="img"
      aria-label="{{viewProfile.name}}'s profile picture"
    ></div>
    {{else}}
    <div class="notification is-info">No image available</div>
    {{/if}}
  </div>

  <div class="column is-two-thirds">
    <div class="content">{{{markdown viewProfile.bio}}}</div>
  </div>
</div>

{{#if viewProfile.conduit_briefing}}
<div id="conduit-briefing" class="box">
  <h3 class="title is-4">Conduit Briefing</h3>
  <div class="content">{{{markdown viewProfile.conduit_briefing}}}</div>
</div>
{{/if}}

{{#if publicCharacters}}
<div class="box">
  <h2 class="title is-4">Public Characters</h2>
  {{#if publicCharacters.length}}
  <div class="columns is-multiline">
    {{#each publicCharacters}}
    <div class="column is-4">
        <div class="card">
          <div class="card-content">
            {{#if this.image_url}}
            <div
              class="image-crop-render"
              data-cropped-image
              data-image-src="{{this.image_url}}"
              data-crop-x="{{this.image_crop.x}}"
              data-crop-y="{{this.image_crop.y}}"
              data-crop-width="{{this.image_crop.width}}"
              data-crop-height="{{this.image_crop.height}}"
              role="img"
              aria-label="{{this.name}}"
            ></div>
            {{else}}
            <div class="notification is-info">No image available</div>
            {{/if}}
          <div class="container mt-4">
            <p class="title is-5">
              {{this.name}}
              {{#if this.is_deceased}}
              <span class="icon has-text-grey" title="Deceased"><i class="fas fa-skull"></i></span>
              {{/if}}
            </p>
            <div class="content">
              <a href="/characters/{{this.id}}/{{encodeURIComponentH this.name}}" class="button is-primary is-fullwidth">View Character</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    {{/each}}
  </div>
  {{else}}
  <div class="notification is-light">No public characters yet.</div>
  {{/if}}
</div>
{{/if}}

{{#if publicClasses}}
<div class="box">
  <h2 class="title is-4">Public Classes</h2>
  {{#if publicClasses.length}}
  <div class="columns is-multiline">
    {{#each publicClasses}}
    <div class="column is-3">
        <div class="card">
          {{#if this.image_url}}
          <div class="card-image">
            <a href="/classes/{{this.id}}/{{this.name}}">
              <div
                class="image-crop-render"
                data-cropped-image
                data-image-src="{{this.image_url}}"
                data-crop-x="{{this.image_crop.x}}"
                data-crop-y="{{this.image_crop.y}}"
                data-crop-width="{{this.image_crop.width}}"
                data-crop-height="{{this.image_crop.height}}"
                role="img"
                aria-label="{{this.name}}"
              ></div>
            </a>
          </div>
          {{/if}}
        <div class="card-content">
          <h5 class="title is-5"><a href="/classes/{{this.id}}/{{this.name}}">{{this.name}}</a></h5>
          {{#if this.teaser}}
          <p>{{this.teaser}}</p>
          {{/if}}
        </div>
      </div>
    </div>
    {{/each}}
  </div>
  {{else}}
  <div class="notification is-light">No public classes yet.</div>
  {{/if}}
</div>
{{/if}}
